{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app.js","webpack:///./src/components/message/index.js","webpack:///./src/components/message/message.css?1ce2","webpack:///./src/components/message/message.html","webpack:///./src/components/message/message.js","webpack:///./src/components/modal-dialog/images/bigSpell2.png","webpack:///./src/components/modal-dialog/images/cure22.png","webpack:///./src/components/modal-dialog/images/spell2.png","webpack:///./src/components/modal-dialog/index.js","webpack:///./src/components/modal-dialog/modal-dialog.css?ecbf","webpack:///./src/components/modal-dialog/modal-dialog.html","webpack:///./src/components/modal-dialog/modal-dialog.js","webpack:///./src/components/records/index.js","webpack:///./src/components/tasks/classes/Task.js","webpack:///./src/components/tasks/index.js","webpack:///./src/components/tasks/task.css?a171","webpack:///./src/components/tasks/task.html","webpack:///./src/components/tasks/task.js","webpack:///./src/index.css?0523","webpack:///./src/screens/battle/battle.css?c828","webpack:///./src/screens/battle/battle.html","webpack:///./src/screens/battle/battle.js","webpack:///./src/screens/battle/classes/Character.js","webpack:///./src/screens/battle/classes/Monster.js","webpack:///./src/screens/battle/classes/Spell.js","webpack:///./src/screens/battle/classes/User.js","webpack:///./src/screens/battle/images/bigSpell2.png","webpack:///./src/screens/battle/images/boy2.png","webpack:///./src/screens/battle/images/cure22.png","webpack:///./src/screens/battle/images/girl2.png","webpack:///./src/screens/battle/images/monster-parts/feet1.png","webpack:///./src/screens/battle/images/monster-parts/feet2.png","webpack:///./src/screens/battle/images/monster-parts/feet3.png","webpack:///./src/screens/battle/images/monster-parts/head1.png","webpack:///./src/screens/battle/images/monster-parts/head2.png","webpack:///./src/screens/battle/images/monster-parts/head3.png","webpack:///./src/screens/battle/images/monster-parts/torso1.png","webpack:///./src/screens/battle/images/monster-parts/torso2.png","webpack:///./src/screens/battle/images/monster-parts/torso3.png","webpack:///./src/screens/battle/images/spell2.png","webpack:///./src/screens/battle/index.js","webpack:///./src/screens/battle/resources/index.js","webpack:///./src/screens/landing-page/images/prtsc1.jpeg","webpack:///./src/screens/landing-page/images/prtsc2.jpeg","webpack:///./src/screens/landing-page/images/prtsc3.jpeg","webpack:///./src/screens/landing-page/index.js","webpack:///./src/screens/landing-page/landing-page.css?4f44","webpack:///./src/screens/landing-page/landing-page.html","webpack:///./src/screens/landing-page/landing-page.js","webpack:///./src/screens/login/index.js","webpack:///./src/screens/login/login.css?3398","webpack:///./src/screens/login/login.html","webpack:///./src/screens/login/login.js","webpack:///./src/screens/score/index.js","webpack:///./src/screens/score/score.css?7c7e","webpack:///./src/screens/score/score.html","webpack:///./src/screens/score/score.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;;;AClFA;AAC4B;AACN;AACC;AACD;;AAEtB;AACA;;;AAGA;AACA;;;AAGA;AACA,mDAAmD;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qD;;;;;;;;;;;;;;;;;;;;ACrDA;AACA;AAC2B;;AAE3B;;;;;;;;;;;;;ACJA,uC;;;;;;;;;;;ACAA,0E;;;;;;;;;;;;;ACAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AClBA,6C;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,0C;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AAC+B;;AAE/B;;;;;;;;;;;;;ACJA,uC;;;;;;;;;;;ACAA,wyB;;;;;;;;;;;;;ACAA;AAAA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC/BA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC,QAAQ;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iB;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC/EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,yBAAyB;AAC9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;;;;;;AC7FA;AACA;AACwB;;AAExB;;;;;;;;;;;;;ACJA,uC;;;;;;;;;;;ACAA,uP;;;;;;;;;;;;;;;ACAA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kFAAkF,WAAW;AAC7F;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7BA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,qD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AAC2B;AACI;AACP;AACN;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,G;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,YAAY;AACjD;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AChWA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,4BAA4B,GAAG,8BAA8B,GAAG,4BAA4B;AAC1G;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,UAAU;AAClD,0CAA0C,WAAW;AACrD,wCAAwC,UAAU;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;AC5EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;;AC7DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,C;;;;;;;;;;;ACxBA,6C;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,0C;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACuB;;AAEvB;;;;;;;;;;;;;;ACJA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,+CAA+C,QAAQ,EAAE;AACzD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mB;AACA;AACA;AACA;AACA;AACA;;AAEA,0E;;;;;;;;;;;ACzDA,2C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AAC4B;;AAE5B;;;;;;;;;;;;;ACJA,uC;;;;;;;;;;;ACAA,ylB;;;;;;;;;;;;;ACAA;AAAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACjBA;AACA;AACsB;;AAEtB;;;;;;;;;;;;;ACJA,uC;;;;;;;;;;;ACAA,wY;;;;;;;;;;;;;;;ACAkB;;AAElB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACzCA;AACA;AACsB;;AAEtB;;;;;;;;;;;;;ACJA,uC;;;;;;;;;;;ACAA,2S;;;;;;;;;;;;;;;ACAkB;;AAElB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/app.js\");\n","import './index.css';\r\nimport { landingPageScreen } from './screens/landing-page';\r\nimport { loginScreen } from './screens/login';\r\nimport { battleScreen } from './screens/battle';\r\nimport { scoreScreen } from './screens/score';\r\n\r\nconst main = document.querySelector('main');\r\nlandingPageScreen.render(main);\r\n\r\n\r\nconst startGameBnt = document.querySelector('.landing-page button');\r\nlet intervalID;\r\n\r\n\r\nif (!localStorage.getItem('Records')) {\r\n  localStorage.setItem('Records', JSON.stringify({}));\r\n}\r\n\r\nfunction login() {\r\n  landingPageScreen.remove();\r\n  scoreScreen.remove();\r\n  loginScreen.render(main);\r\n  const loginBtn = document.querySelector('.login-form button');\r\n  const radioBtn = document.querySelector('.login-form .radio-btn');\r\n  radioBtn.addEventListener('click', loginScreen.chooseGender, false);\r\n  loginBtn.addEventListener('click', loginScreen.login, false);\r\n  loginBtn.addEventListener('click', startGame, false);\r\n}\r\n\r\nfunction startGame(event) {\r\n  const loginBtn = event.target;\r\n  const radioBtn = event.target.parentElement.querySelector('.radio-btn');\r\n  loginBtn.removeEventListener('click', loginScreen.login, false);\r\n  loginBtn.removeEventListener('click', startGame, false);\r\n  radioBtn.removeEventListener('click', loginScreen.chooseGender, false);\r\n  loginScreen.remove();\r\n  battleScreen.initField(main);\r\n  battleScreen.startGame();\r\n  intervalID = setInterval(checkGame, 1000);\r\n}\r\n\r\n\r\nfunction checkGame() {\r\n  if (battleScreen.checkGameState()) {\r\n    clearInterval(intervalID);\r\n    battleScreen.remove();\r\n    scoreScreen.render(main);\r\n    scoreScreen.renderScore(main.querySelector('.game-records'));\r\n    const startGameBtn = main.querySelector('.game-records button');\r\n    startGameBtn.addEventListener('click', login, false);\r\n  }\r\n}\r\n\r\nstartGameBnt.addEventListener('click', login, false);","import './message.css';\r\nimport html from './message.html';\r\nimport { MessageComponent } from './message';\r\n\r\nMessageComponent.html = html;\r\n\r\nexport { MessageComponent };","// extracted by mini-css-extract-plugin","module.exports = \"<section class=\\\"message\\\">\\r\\n  <p></p>\\r\\n</section>\";","let parentElem;\r\n\r\nfunction render(parent, msg) {\r\n  parentElem = parent;\r\n  parentElem.insertAdjacentHTML('afterBegin', this.html);\r\n  parentElem.querySelector('.message p').innerText = msg;\r\n}\r\n\r\nfunction remove() {\r\n  if (parentElem) {\r\n    parentElem.removeChild(parentElem.querySelector('.message'));\r\n    parentElem = null;\r\n  }\r\n}\r\n\r\nconst MessageComponent = {\r\n  render: render,\r\n  remove: remove\r\n}\r\n\r\nexport { MessageComponent };","module.exports = \"dist/images/bigSpell2.png\";","module.exports = \"dist/images/cure22.png\";","module.exports = \"dist/images/spell2.png\";","import './modal-dialog.css';\r\nimport html from './modal-dialog.html';\r\nimport { ModalDialogComponent } from './modal-dialog';\r\n\r\nModalDialogComponent.html = html;\r\n\r\nexport { ModalDialogComponent };","// extracted by mini-css-extract-plugin","module.exports = \"<section class=\\\"modal-dialog\\\">\\r\\n  <h2>Choose your spell</h2>\\r\\n  <div class=\\\"spells\\\">\\r\\n    <figure class=\\\"spell\\\">\\r\\n      <img src=\\\"\" + require(\"./images/spell2.png\") + \"\\\">\\r\\n      <figcaption>Attack</figcaption>  \\r\\n    </figure>\\r\\n  \\t<figure class=\\\"spell\\\">\\r\\n      <img src=\\\"\" + require(\"./images/bigSpell2.png\") + \"\\\">\\r\\n      <figcaption>Explosion</figcaption>  \\r\\n    </figure>\\r\\n    <figure class=\\\"spell\\\">\\r\\n      <img src=\\\"\" + require(\"./images/cure22.png\") + \"\\\">\\r\\n      <figcaption>Cure</figcaption>  \\r\\n    </figure>\\r\\n  </div>\\r\\n</section>\";","let parentElem;\r\nlet spellType;\r\n\r\nfunction render(parent) {\r\n  parentElem = parent;\r\n  parentElem.insertAdjacentHTML('afterBegin', this.html);\r\n}\r\n\r\nfunction remove() {\r\n  if (parentElem) {\r\n    parentElem.removeChild(parentElem.querySelector('.modal-dialog'));\r\n    parentElem = null;\r\n  }\r\n}\r\n\r\nfunction chooseSpell(event) {\r\n  if(event.target.tagName.toLowerCase() === 'img' ||\r\n     event.target.tagName.toLowerCase() === 'figcaption') {\r\n    spellType = event.target.closest('figure').children[1].innerText.toLowerCase();\r\n  }\r\n}\r\n\r\nfunction getSpellType() {\r\n  return spellType;\r\n}\r\n\r\nconst ModalDialogComponent = {\r\n  render: render,\r\n  remove: remove,\r\n  chooseSpell: chooseSpell,\r\n  getSpellType: getSpellType\r\n}\r\n\r\nexport { ModalDialogComponent };","function saveCurrentUser(name, sex) {\r\n  let currentUser = {\r\n    name: name,\r\n    sex: sex\r\n  }\r\n  const serialCurrentUser = JSON.stringify(currentUser);\r\n  localStorage.setItem('currentUser', serialCurrentUser);\r\n}\r\n\r\nfunction addRecord(defMonsters) {\r\n  let currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n  let recordsObj = JSON.parse(localStorage.getItem('Records'));\r\n  let count = 0;\r\n  for (let key in recordsObj) {\r\n    count += recordsObj[key].length;\r\n  }\r\n\r\n  if (count === 12) {\r\n    let keys = Object.keys(recordsObj);\r\n    keys = keys.map((item) => Number(item));\r\n    keys.push(defMonsters);\r\n    keys.sort((a,b) => a > b);\r\n    if (defMonsters === keys[0]) {\r\n      return;\r\n    }\r\n    deleteRecord(keys[0], recordsObj);\r\n  }\r\n\r\n  if(defMonsters in recordsObj) {\r\n    recordsObj[defMonsters].push(currentUser.name);\r\n  } else {\r\n    recordsObj[defMonsters] = [currentUser.name];\r\n  }\r\n  localStorage.setItem('Records', JSON.stringify(recordsObj));\r\n}\r\n\r\nfunction deleteRecord(key, recordsObj) {\r\n  if (recordsObj[key].length === 1) {\r\n    delete recordsObj[key];\r\n  } else {\r\n    recordsObj[key].pop();\r\n  }\r\n}\r\n\r\nfunction showRecords(table) {\r\n  let tbody = document.querySelector('tbody');\r\n  while (tbody.firstChild) {\r\n    tbody.removeChild(tbody.firstChild);\r\n  }\r\n  let recordsObj = JSON.parse(localStorage.getItem('Records'));\r\n  let keys = Object.keys(recordsObj);\r\n  keys.sort((a,b) => a > b);\r\n\r\n  for (let i = keys.length - 1 ; i >= 0; i--) {\r\n    show(table, keys[i], recordsObj[keys[i]]);\r\n  }\r\n}\r\n\r\nfunction show(table, defMonsters, names) {\r\n  names.forEach(name => {\r\n    createRow(table, name, defMonsters);\r\n  });\r\n}\r\n\r\nfunction createRow(table, name, defMonsters) {\r\n  const row = document.createElement('tr');\r\n  const td1 = document.createElement('td');\r\n  const td2 = document.createElement('td');\r\n  td1.innerText = name;\r\n  td2.innerText = defMonsters;\r\n  row.appendChild(td1);\r\n  row.appendChild(td2);\r\n  table.querySelector('tbody').appendChild(row);\r\n}\r\n\r\nconst records = { \r\n  saveCurrentUser: saveCurrentUser,\r\n  add: addRecord,\r\n  render: showRecords\r\n};\r\n\r\nexport { records };","export default class Task {\r\n  constructor(type) {\r\n    this.type = type;\r\n    this.task = null;\r\n  }\r\n\r\n  static get mathOperations() {\r\n    return ['+','-','*','/'];\r\n  }\r\n\r\n  generateTask() {\r\n    if (this.type === 'math') {\r\n      this.generateMathTask();\r\n    }\r\n    return this.task;\r\n  }\r\n\r\n  generateMathTask() {\r\n    let i = Math.ceil(Math.random() * 10) % 4;\r\n    let op = Task.mathOperations[i];\r\n    let a;\r\n    let b;\r\n    if (op === '+' || op === '-') {\r\n      a = Math.ceil(Math.random() * 100);\r\n      b = Math.ceil(Math.random() * 100);\r\n      if (a < b && op === '-') {\r\n        this.task = [b, op, a];\r\n      } else {\r\n        this.task = [a, op, b];\r\n      }\r\n    } else if (op === '*') {\r\n      a = Math.ceil(Math.random() * 100) % 51;\r\n      b = Math.ceil(Math.random() * 10);\r\n      this.task = (Math.random() > 0.5) ? [a, op, b] : [b, op, a];\r\n    } else {\r\n      a = Math.ceil(Math.random() * 10);\r\n      a = (a === 0) ? 1 : a;\r\n      let k = Math.ceil(Math.random() * 51);\r\n      b = a * k;\r\n      this.task = [b, op, a];\r\n    }\r\n  }\r\n\r\n  checkAnswer(answer) {\r\n    if (this.type === 'math') {\r\n      return (eval(this.task.join('')) === answer);\r\n    }\r\n  }\r\n\r\n  get answer() {\r\n    if (this.type === 'math') {\r\n      return eval(this.task.join(''));\r\n    }\r\n  }\r\n\r\n  render(taskWindow) {\r\n    let taskDiv = taskWindow.querySelector('.task');\r\n    let submitDiv = taskWindow.querySelector('.submit-task');\r\n    let input = submitDiv.querySelector('input');\r\n    let button = submitDiv.querySelector('button');\r\n    let pNote = taskWindow.querySelector('.note');\r\n    this.clearElem(taskDiv);\r\n\r\n    if (input) {\r\n      input.value = '';\r\n    } else {\r\n      input = document.createElement('input');\r\n      submitDiv.insertBefore(input, button);\r\n    }\r\n\r\n    if (this.type === 'math') {\r\n      pNote.innerHTML = '<span>Hint</span>: write the correct answer.';\r\n      let taskToRender = this.task.concat(['=', '?']);\r\n      for (let i = 0; i < taskToRender.length; i++) {\r\n        let symbol = document.createElement('div');\r\n        symbol.innerText = taskToRender[i];\r\n        taskDiv.appendChild(symbol);\r\n      }\r\n    }\r\n  }\r\n\r\n  clearElem(elem) {\r\n    while (elem.lastChild) {\r\n      elem.removeChild(elem.lastChild);\r\n    }\r\n  }\r\n\r\n  static create(taskWindow, type = 'math') {\r\n    let task = new Task(type);\r\n    task.generateTask();\r\n    task.render(taskWindow);\r\n    return task;\r\n  }\r\n}","import './task.css';\r\nimport html from './task.html';\r\nimport { TaskComponent } from './task';\r\n\r\nTaskComponent.html = html;\r\n\r\nexport { TaskComponent };","// extracted by mini-css-extract-plugin","module.exports = \"<section class=\\\"task-window\\\">\\r\\n  <h2>You need to solve the task:</h2>\\r\\n  <div class=\\\"task\\\"></div>\\r\\n  <div class=\\\"submit-task\\\">\\r\\n    <button>Cast Spell</button>\\r\\n  </div>\\r\\n  <p class=\\\"note\\\"></p>\\r\\n</section>\";","import Task from './classes/Task';\r\nlet parentElem;\r\n\r\nfunction render(parent) {\r\n  parentElem = parent;\r\n  parentElem.insertAdjacentHTML('afterBegin', this.html);\r\n}\r\n\r\nfunction remove() {\r\n  if (parentElem) {\r\n    parentElem.removeChild(parentElem.querySelector('.task-window'));\r\n    parentElem = null;\r\n  }\r\n}\r\n\r\nfunction createTask(taskWindow) {\r\n  return Task.create(taskWindow);\r\n}\r\n\r\nfunction renderMsg(taskWindow, taskAnswer) {\r\n  const pNote = taskWindow.querySelector('.note');\r\n  pNote.innerHTML = `Sorry, but your answer is wrong. The right answer is <span>${taskAnswer}</span>.`;\r\n}\r\n\r\nconst TaskComponent = {\r\n  createTask: createTask,\r\n  renderMsg: renderMsg,\r\n  render: render,\r\n  remove: remove\r\n}\r\n\r\nexport { TaskComponent };","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","module.exports = \"<canvas id=\\\"myCanvas\\\"></canvas>\";","import User from './classes/User';\r\nimport Monster from './classes/Monster';\r\nimport Spell from './classes/Spell';\r\nimport resources from './resources';\r\nimport { MessageComponent } from './../../components/message';\r\nimport { ModalDialogComponent } from './../../components/modal-dialog';\r\nimport { TaskComponent } from './../../components/tasks';\r\nimport { records } from './../../components/records';\r\nimport './images/boy2.png';\r\nimport './images/girl2.png';\r\nimport './images/spell2.png';\r\nimport './images/bigSpell2.png';\r\nimport './images/cure22.png';\r\nimport './images/monster-parts/head1.png';\r\nimport './images/monster-parts/head2.png';\r\nimport './images/monster-parts/head3.png';\r\nimport './images/monster-parts/torso1.png';\r\nimport './images/monster-parts/torso2.png';\r\nimport './images/monster-parts/torso3.png';\r\nimport './images/monster-parts/feet1.png';\r\nimport './images/monster-parts/feet2.png';\r\nimport './images/monster-parts/feet3.png';\r\n\r\nconst mainHTMLElem = document.querySelector('main');\r\nlet parentElem;\r\nlet canvas;\r\nlet ctx;\r\nlet user;\r\nlet monster;\r\nlet activeSpell;\r\nlet move = 'user';\r\nlet isRoundOver;\r\nlet requestID;\r\nlet gameState;\r\n\r\nfunction startGame() {\r\n  isRoundOver = false;\r\n  const userInfo = JSON.parse(localStorage.currentUser);\r\n  gameState = 'go';\r\n  user = new User(userInfo.name, userInfo.sex, canvas);\r\n  monster = new Monster(canvas);\r\n  MessageComponent.render(mainHTMLElem, 'Wizard battle!');\r\n\r\n  if(resources.get('images/boy2.png')) {\r\n    init();\r\n  } else {\r\n    resources.load([\r\n      'images/boy2.png',\r\n      'images/girl2.png',\r\n      'images/spell2.png',\r\n      'images/bigSpell2.png',\r\n      'images/cure22.png',\r\n      'images/monster-parts/head1.png',\r\n      'images/monster-parts/head2.png',\r\n      'images/monster-parts/head3.png',\r\n      'images/monster-parts/torso1.png',\r\n      'images/monster-parts/torso2.png',\r\n      'images/monster-parts/torso3.png',\r\n      'images/monster-parts/feet1.png',\r\n      'images/monster-parts/feet2.png',\r\n      'images/monster-parts/feet3.png',\r\n    ]);\r\n    resources.onReady(init);\r\n  }  \r\n}\r\n\r\nfunction init() {\r\n  startRound(false);\r\n  main();\r\n}\r\n\r\nasync function startRound(resetDataFLag) {\r\n  await resolveAfter(2000);\r\n  MessageComponent.remove();\r\n  ModalDialogComponent.render(mainHTMLElem);\r\n  chooseSpell();\r\n\r\n  if (resetDataFLag) {\r\n    resetData();\r\n  }\r\n}\r\n\r\nfunction main() {\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  update();\r\n  render();\r\n  requestID = requestAnimationFrame(main);\r\n}\r\n\r\nfunction update() {\r\n  if(activeSpell instanceof Spell) {\r\n    checkSpellDestination();\r\n  }\r\n  if(activeSpell === null) {\r\n    activeSpell = 'not-ready';\r\n    createSpell();\r\n  }\r\n}\r\n\r\n\r\nfunction chooseSpell() {\r\n  const spellsWindow = document.querySelector('.modal-dialog .spells');\r\n  spellsWindow.addEventListener('click', ModalDialogComponent.chooseSpell, false);\r\n  spellsWindow.addEventListener('click', getSpellType, false);\r\n}\r\n\r\nfunction getSpellType(event) {\r\n  if(event.target.tagName.toLowerCase() === 'img' ||\r\n     event.target.tagName.toLowerCase() === 'figcaption') {\r\n    const spellsWindow = event.target.closest('.modal-dialog .spells');\r\n    const spellType = ModalDialogComponent.getSpellType();\r\n    spellsWindow.removeEventListener('click', ModalDialogComponent.chooseSpell, false);\r\n    spellsWindow.removeEventListener('click', getSpellType, false);\r\n    ModalDialogComponent.remove();\r\n\r\n    checkSolutionOfTask()\r\n      .then(() => {\r\n        if (spellType === 'explosion') {\r\n          TaskComponent.remove();\r\n          return checkSolutionOfTask();\r\n        }\r\n      })\r\n      .then(() => {\r\n        TaskComponent.remove();\r\n        activeSpell = user.createSpell(spellType);\r\n      })\r\n      .catch((taskAnswer) => {\r\n        TaskComponent.renderMsg(document.querySelector('.task-window'), taskAnswer);\r\n        passMoveToMonster();\r\n      });\r\n  }\r\n}\r\n\r\nfunction checkSolutionOfTask() {\r\n  return new Promise(function(resolve, reject) {\r\n    TaskComponent.render(mainHTMLElem);\r\n    const taskWindow = document.querySelector('.task-window');\r\n    const castSpellBtn = taskWindow.querySelector('.submit-task button');\r\n    const task = TaskComponent.createTask(taskWindow);\r\n    const handler = function(event) {\r\n      return checkAnswer(event, task, handler, resolve, reject);\r\n    };\r\n    castSpellBtn.addEventListener('click', handler, false);\r\n  });\r\n}\r\n\r\nfunction checkAnswer(event, task, handler, resolve, reject) {\r\n  event.target.removeEventListener('click', handler, false);\r\n  const input = event.target.closest('section').querySelector('input');\r\n  if (task.checkAnswer(Number(input.value))) {\r\n    resolve();\r\n  } else {\r\n    reject(task.answer);\r\n  }\r\n}\r\n\r\nasync function passMoveToMonster() {\r\n  await resolveAfter(5000);\r\n  TaskComponent.remove();\r\n  move = 'monster';\r\n  activeSpell = null;\r\n}\r\n\r\nfunction checkSpellDestination() {\r\n  if (activeSpell.type !== 'cure') {\r\n    let finalX;\r\n    finalX = (move ==='user') ? monster.startPoint[0] : user.pos[0];\r\n    if (move === 'user') {\r\n      if (activeSpell.pos[0] >= finalX) {\r\n        monster.hp -= activeSpell.HP;\r\n        activeSpell = null;\r\n        move = 'monster';\r\n      }\r\n    } else {\r\n      if (activeSpell.pos[0] <= finalX) {\r\n        user.hp -= activeSpell.HP;\r\n        activeSpell = null;\r\n        move = 'user';\r\n      }\r\n    }\r\n  } else if (activeSpell.type === 'cure') {\r\n    let finalY;\r\n    finalY = (move ==='user') ? user.pos[1] : monster.startPoint[1];\r\n    finalY -= 40;\r\n    if (activeSpell.pos[1] >= finalY) {\r\n      if (move === 'user') {\r\n        user.hp += activeSpell.HP;\r\n        move = 'monster';\r\n      } else {\r\n        monster.hp += activeSpell.HP;\r\n        move = 'user';\r\n      }\r\n      activeSpell = null;\r\n    }\r\n  }\r\n  if (monster.hp === 0 || user.hp === 0) {\r\n    isRoundOver = true;\r\n  }\r\n}\r\n\r\nfunction createSpell() {\r\n  if(checkGame()) { return }\r\n  if(move === 'monster') {\r\n    activeSpell = monster.createSpell();\r\n  }\r\n  if(move === 'user') {\r\n    ModalDialogComponent.render(mainHTMLElem);\r\n    chooseSpell();\r\n  }\r\n}\r\n\r\nfunction checkGame() {\r\n  if (isRoundOver) {\r\n    let msg;\r\n    if (monster.hp === 0) {\r\n      msg = 'Congratulations! You won!';\r\n    } else {\r\n      msg = 'Game over.';\r\n    }\r\n    MessageComponent.render(mainHTMLElem, msg);\r\n    \r\n    if (monster.hp === 0) {\r\n      startRound(true);\r\n    } else {\r\n      records.add(user.defeatedMonsters);\r\n      endGame();\r\n    }\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction resetData() {\r\n  isRoundOver = false;\r\n  move = 'user';\r\n  user.hp = 100;\r\n  user.defeatedMonsters += 1;\r\n  monster = new Monster(canvas);\r\n}\r\n\r\n\r\nasync function endGame() {\r\n  await resolveAfter(2000);\r\n  MessageComponent.remove();\r\n  gameState = 'over';\r\n  cancelAnimationFrame(requestID);\r\n}\r\n\r\nfunction checkGameState() {\r\n  return gameState === 'over';\r\n}\r\n\r\nfunction render() {\r\n  user.render(ctx);\r\n  monster.render(ctx);\r\n  renderHPLine('user', user.hp);\r\n  renderHPLine('monster', monster.hp);\r\n  renderName('user', user.name);\r\n  renderName('monster', monster.name);\r\n  renderDefetedMonsters();\r\n  renderSpell(activeSpell);\r\n};\r\n\r\nfunction renderSpell(activeSpell) {\r\n  if(activeSpell instanceof Spell) {\r\n    activeSpell.render(ctx);\r\n  }   \r\n}\r\n\r\nfunction renderHPLine(type, hp) {\r\n  let hpHeight = 30;\r\n  let hpWidth = hp * 2;\r\n  let y = 50;\r\n  let x;\r\n  if (type === \"user\") {\r\n    x = 50;\r\n  } else if (type === \"monster\") {\r\n    x = canvas.width - 250;\r\n  }\r\n  ctx.strokeStyle = \"black\";\r\n  ctx.strokeRect(x, y, 200, hpHeight);\r\n\r\n  ctx.beginPath();\r\n  ctx.rect(x, y, hpWidth, hpHeight);\r\n  ctx.fillStyle = \"green\";\r\n  ctx.fill();\r\n  ctx.closePath();\r\n\r\n  let xRed = 200 - hpWidth;\r\n  ctx.beginPath();\r\n  ctx.rect(x + hpWidth, y, xRed, hpHeight);\r\n  ctx.fillStyle = \"red\";\r\n  ctx.fill();\r\n  ctx.closePath();\r\n\r\n  ctx.font = \"20px Georgia\";\r\n  ctx.fillStyle = \"white\";\r\n  ctx.fillText(hp, x + 90, y + 20);\r\n}\r\n\r\nfunction renderName(type, name) {\r\n  let x;\r\n  let y = 100;\r\n  if (type === \"user\") {\r\n    x = 50 + 10;\r\n  } else if (type === \"monster\") {\r\n    x = canvas.width - 250 + 10;\r\n  }\r\n\r\n  ctx.font = \"20px Georgia\";\r\n  ctx.fillStyle = \"black\";\r\n  ctx.fillText(name, x, y);\r\n}\r\n\r\nfunction renderDefetedMonsters() {\r\n  let x = 60;\r\n  let y = 120;\r\n  let defMonsters = user.defeatedMonsters;\r\n  ctx.font = \"16px Georgia\";\r\n  ctx.fillStyle = \"#252525\";\r\n  ctx.fillText(`Defeated Monsters: ${defMonsters}`, x, y);\r\n}\r\n\r\nfunction resolveAfter(time) {\r\n  return new Promise(resolve => {\r\n    setTimeout(() => {\r\n      resolve();\r\n    }, time);\r\n  });\r\n}\r\n\r\nfunction initField(parent) {\r\n  parentElem = parent;\r\n  parentElem.insertAdjacentHTML('afterBegin', this.html);\r\n  canvas = parentElem.querySelector('#myCanvas');\r\n  ctx = canvas.getContext(\"2d\");\r\n  canvas.width = window.innerWidth;\r\n  canvas.height = window.innerHeight;\r\n}\r\n\r\nfunction remove() {\r\n  if (parentElem) {\r\n    parentElem.removeChild(parentElem.querySelector('#myCanvas'));\r\n    parentElem = null;\r\n  }\r\n}\r\n\r\nconst battleScreen = {\r\n  initField: initField,\r\n  remove: remove,\r\n  startGame: startGame,\r\n  checkGameState: checkGameState\r\n}\r\n\r\nexport { battleScreen };","import resources from './../resources';\r\n\r\nexport default class Character {\r\n  constructor(name, coef, hpLevel) {\r\n    this.name = name;\r\n    this.coef = coef;\r\n    this.hpLevel = hpLevel;\r\n  }\r\n\r\n  render(ctx) {\r\n    ctx.drawImage(resources.get(this.url),\r\n                  this.pos[0], this.pos[1],\r\n                  this.size[0], this.size[1]);\r\n  }\r\n\r\n  get hp() {\r\n    return this.hpLevel;\r\n  }\r\n\r\n  set hp(newHP) {\r\n    this.hpLevel = newHP;\r\n    this.hpLevel = (this.hpLevel >= 0) ? this.hpLevel : 0;\r\n    this.hpLevel = (this.hpLevel <= 100) ? this.hpLevel : 100;\r\n  }\r\n}","import Character from './Character';\r\nimport Spell from './Spell';\r\nimport resources from './../resources';\r\n\r\nexport default class Monster extends Character {\r\n\tconstructor(canvas) {\r\n    const coef = 3;\r\n    const hpLevel = 100;\r\n    const name = Monster.generateName();\r\n    super(name, coef, hpLevel);\r\n    this.generateBody(canvas);\r\n  }\r\n\r\n  createSpell() {\r\n    const index = Math.ceil(Math.random() * 10) % Spell.types.length;\r\n    const spellType = Spell.types[index];\r\n    let spellPos;\r\n    if (spellType === 'cure') {\r\n      spellPos = [this.startPoint[0] - 10, this.startPoint[1] - 220];\r\n    } else {\r\n      spellPos = [this.startPoint[0], this.startPoint[1] - 35];\r\n    }\r\n    return new Spell(spellType, spellPos, 'monster');\r\n  }\r\n\r\n  render(ctx) {\r\n    ctx.drawImage(resources.get(this.urls.torso),\r\n                  this.pos.torso[0], this.pos.torso[1],\r\n                  this.size.torso[0], this.size.torso[1]);\r\n    ctx.drawImage(resources.get(this.urls.head),\r\n                  this.pos.head[0], this.pos.head[1],\r\n                  this.size.head[0], this.size.head[1]);\r\n    ctx.drawImage(resources.get(this.urls.feet),\r\n                  this.pos.feet[0], this.pos.feet[1],\r\n                  this.size.feet[0], this.size.feet[1]);\r\n  }\r\n\r\n  static generateName() {\r\n    const nameParts = Monster.nameParts;\r\n    const firstIndex = Math.ceil(Math.random() * 10) % nameParts.first.length;\r\n    const secondIndex = Math.ceil(Math.random() * 10) % nameParts.second.length;\r\n    const thirdIndex = Math.ceil(Math.random() * 10) % nameParts.third.length;\r\n    return `${nameParts.first[firstIndex]} ${nameParts.second[secondIndex]} ${nameParts.third[thirdIndex]}`;\r\n  }\r\n\r\n  generateBody(canvas) {\r\n    this.size = {\r\n      'head': [23 * this.coef, 19 * this.coef],\r\n      'torso': [23 * this.coef, 16 * this.coef],\r\n      'feet': [23 * this.coef, 13 * this.coef]\r\n    };\r\n    this.startPoint = [canvas.width - canvas.width * 0.2 - 40, \r\n                      canvas.height - this.size.feet[1]\r\n                      - this.size.torso[1] - 50]\r\n    this.pos = {\r\n      head: [this.startPoint[0], this.startPoint[1] - this.size.head[1] + 4],\r\n      torso: [this.startPoint[0], this.startPoint[1]],\r\n      feet: [this.startPoint[0], this.startPoint[1] + this.size.feet[1] + 2]\r\n    }\r\n    const headIndex = Math.ceil(Math.random() * 10) % 3 + 1;\r\n    const torsoIndex = Math.ceil(Math.random() * 10) % 3 + 1;\r\n    const feetIndex = Math.ceil(Math.random() * 10) % 3 + 1;\r\n    this.urls = {\r\n      head: `images/monster-parts/head${headIndex}.png`,\r\n      torso: `images/monster-parts/torso${torsoIndex}.png`,\r\n      feet: `images/monster-parts/feet${feetIndex}.png`\r\n    }\r\n  }\r\n\r\n  static get nameParts() {\r\n    return {\r\n      first: ['Horrible', 'Huge', 'Furious', 'Nasty'],\r\n      second: ['Orc', 'Goblin', 'Dwarf'],\r\n      third: ['Bob', 'Earl', 'Rick', 'Sam', 'Dave']\r\n    }\r\n  }\r\n}","import resources from './../resources';\n\nexport default class Spell {\n  constructor(type, pos, character) {\n    this.type = type;\n    this.character = character;\n    this.speed = Spell.info.speed[this.type];\n    this.url = Spell.info.url[this.type];\n    this.dir = Spell.info.dir[this.type];\n    this.pos = pos;\n    this.size = [100, 100];\n  }\n\n  render(ctx) {\n    if(this.dir === 'vertical') {\n      this.pos[1] += this.speed;\n    } else {\n      if (this.character === 'user') {\n        this.pos[0] += this.speed;\n      } else {\n        this.pos[0] -= this.speed;\n      }\n    }\n      \n    ctx.drawImage(resources.get(this.url), \n                  this.pos[0], this.pos[1],\n                  this.size[0], this.size[1]);\n  }\n\n  static get types() {\n    return ['attack', 'explosion', 'cure'];\n  }\n\n  static get info() {\n    return {\n      speed: {\n        'attack' : 10,\n        'explosion' : 15,\n        'cure' : 6\n      },\n      url: {\n        'attack' : 'images/spell2.png',\n        'explosion' : 'images/bigSpell2.png',\n        'cure' : 'images/cure22.png'\n      },\n      hp: {\n        'attack' : 15,\n        'explosion' : 20,\n        'cure' : 18\n      },\n      dir: {\n        'attack' : 'horizontal',\n        'explosion' : 'horizontal',\n        'cure' : 'vertical'\n      }\n    }\n  }\n\n  get HP() {\n    return Spell.info.hp[this.type];\n  }\n}","import Character from './Character';\r\nimport Spell from './Spell';\r\n\r\nexport default class User extends Character {\r\n\tconstructor(name, sex, canvas) {\r\n    const coef = 2.5;\r\n    const hpLevel = 100;\r\n    super(name, coef, hpLevel);\r\n    this.size = [24 * this.coef, 45 * this.coef];\r\n    this.pos = [canvas.width * 0.2, \r\n                canvas.height - this.size[1] - 53];\r\n    this.url = (sex === 'male') ? 'images/boy2.png' : 'images/girl2.png';\r\n    this.defeatedMonsters = 0;\r\n  }\r\n\r\n  createSpell(spellType) {\r\n    let pos;\r\n    if (spellType === 'cure') {\r\n      pos = [this.pos[0] - 10, this.pos[1] - 220];\r\n    } else {\r\n      pos = [this.pos[0], this.pos[1]];\r\n    }\r\n    return new Spell(spellType, pos, 'user');\r\n  }\r\n}","module.exports = \"dist/images/bigSpell2.png\";","module.exports = \"dist/images/boy2.png\";","module.exports = \"dist/images/cure22.png\";","module.exports = \"dist/images/girl2.png\";","module.exports = \"dist/images/feet1.png\";","module.exports = \"dist/images/feet2.png\";","module.exports = \"dist/images/feet3.png\";","module.exports = \"dist/images/head1.png\";","module.exports = \"dist/images/head2.png\";","module.exports = \"dist/images/head3.png\";","module.exports = \"dist/images/torso1.png\";","module.exports = \"dist/images/torso2.png\";","module.exports = \"dist/images/torso3.png\";","module.exports = \"dist/images/spell2.png\";","import './battle.css';\r\nimport html from './battle.html';\r\nimport { battleScreen } from './battle';\r\n\r\nbattleScreen.html = html;\r\n\r\nexport { battleScreen };","let resourceCache = {};\r\nlet loading = [];\r\nlet readyCallbacks = [];\r\n\r\nfunction load(urlOrArr) {\r\n  if(urlOrArr instanceof Array) {\r\n    urlOrArr.forEach(function(url) {\r\n      _load(url);\r\n    });\r\n  } else {\r\n    _load(urlOrArr);\r\n  }\r\n}\r\n\r\nfunction _load(url) {\r\n  if(resourceCache[url]) {\r\n    return resourceCache[url];\r\n  } else {\r\n    let img = new Image();\r\n    img.onload = function() {\r\n      resourceCache[url] = img;\r\n                \r\n      if(isReady()) {\r\n        readyCallbacks.forEach(function(func) { func(); });\r\n      }\r\n    };\r\n    resourceCache[url] = false;\r\n    img.src = 'dist/' + url;\r\n  }\r\n}\r\n\r\nfunction get(url) {\r\n  return resourceCache[url];\r\n}\r\n\r\nfunction isReady() {\r\n  let ready = true;\r\n  for(let k in resourceCache) {\r\n    if(resourceCache.hasOwnProperty(k) &&\r\n     !resourceCache[k]) {\r\n      ready = false;\r\n    }\r\n  }\r\n  return ready;\r\n}\r\n\r\nfunction onReady(func) {\r\n  readyCallbacks.push(func);\r\n}\r\n\r\nconst resources = { \r\n  load: load,\r\n  get: get,\r\n  onReady: onReady,\r\n  isReady: isReady\r\n};\r\n\r\nexport default resources;","module.exports = \"dist/images/prtsc1.jpeg\";","module.exports = \"dist/images/prtsc2.jpeg\";","module.exports = \"dist/images/prtsc3.jpeg\";","import './landing-page.css';\r\nimport html from './landing-page.html';\r\nimport { landingPageScreen } from './landing-page';\r\n\r\nlandingPageScreen.html = html;\r\n\r\nexport { landingPageScreen };","// extracted by mini-css-extract-plugin","module.exports = \"<section class=\\\"landing-page\\\">\\r\\n  <h1>Little Prodigy Game</h1>\\r\\n  <button>Let's play!</button>\\r\\n  <div class=\\\"printscreens\\\">\\r\\n    <img src=\\\"\" + require(\"./images/prtsc1.jpeg\") + \"\\\">\\r\\n    <img src=\\\"\" + require(\"./images/prtsc2.jpeg\") + \"\\\">\\r\\n    <img src=\\\"\" + require(\"./images/prtsc3.jpeg\") + \"\\\">\\r\\n  </div>\\r\\n  <p>Developer Anastasiya Barysheva</p>\\r\\n</section>\";","let parentElem;\r\n\r\nfunction render(parent) {\r\n  parentElem = parent;\r\n  parentElem.insertAdjacentHTML('afterBegin', this.html);\r\n}\r\n\r\nfunction remove() {\r\n  if (parentElem) {\r\n  \tparentElem.removeChild(parentElem.querySelector('.landing-page'));\r\n  \tparentElem = null;\r\n  }\r\n}\r\n\r\nconst landingPageScreen = {\r\n  remove: remove,\r\n  render: render\r\n}\r\n\r\nexport { landingPageScreen };","import './login.css';\r\nimport html from './login.html';\r\nimport { loginScreen } from './login';\r\n\r\nloginScreen.html = html;\r\n\r\nexport { loginScreen };","// extracted by mini-css-extract-plugin","module.exports = \"<section class=\\\"login\\\">\\r\\n  <h2>Tell about yourself:</h2>\\r\\n  <div class=\\\"login-form\\\">\\r\\n    <p>Name: <input type=\\\"text\\\" name=\\\"name\\\" /></p><br/>\\r\\n    <div class=\\\"radio-btn\\\">\\r\\n      <p class=\\\"selected\\\"><span class=\\\"selected\\\"></span>Male</p>\\r\\n      <p><span></span>Female</p>\\r\\n    </div>\\r\\n    <button>I am ready!</button>\\r\\n  </div>\\r\\n</section>\";","import { records } from '../../components/records';\r\n\r\nlet sex = 'male';\r\nlet parentElem;\r\n\r\nfunction render(parent) {\r\n  parentElem = parent;\r\n  parentElem.insertAdjacentHTML('afterBegin', this.html);\r\n}\r\n\r\nfunction remove() {\r\n  if (parentElem) {\r\n    parentElem.removeChild(parentElem.querySelector('.login'));\r\n    parentElem = null;\r\n    sex = 'male';\r\n  }\r\n}\r\n\r\nfunction chooseGender(event) {\r\n  if(event.target.closest('p')) {\r\n    let children = event.target.closest('div').children;\r\n    for (let i = 0; i < children.length; i++) {\r\n      children[i].classList.remove('selected');\r\n    }\r\n    event.target.closest('p').classList.add('selected');\r\n    sex = event.target.closest('p').innerText.toLowerCase();\r\n  }\r\n}\r\n\r\nfunction login(event) {\r\n  const loginFormElem = event.target.closest('.login-form');\r\n  let name = loginFormElem.querySelector('input[name=\"name\"]').value;\r\n  name = name ? name : 'User';\r\n  records.saveCurrentUser(name, sex);\r\n}\r\n\r\nconst loginScreen = {\r\n  chooseGender: chooseGender,\r\n  login: login,\r\n  render: render,\r\n  remove: remove\r\n};\r\n\r\nexport { loginScreen };","import './score.css';\r\nimport html from './score.html';\r\nimport { scoreScreen } from './score';\r\n\r\nscoreScreen.html = html;\r\n\r\nexport { scoreScreen };","// extracted by mini-css-extract-plugin","module.exports = \"<section class=\\\"game-records\\\">\\r\\n  <h2>Best Players</h2>\\r\\n  <table>\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th>Player</th>\\r\\n        <th>Defeated Monsters</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody></tbody>\\r\\n  </table>\\r\\n  <button>New Game</button>\\r\\n</section>\";","import { records } from './../../components/records';\r\n\r\nlet parentElem;\r\n\r\nfunction render(parent) {\r\n  parentElem = parent;\r\n  parentElem.insertAdjacentHTML('afterBegin', this.html);\r\n}\r\n\r\nfunction remove() {\r\n  if (parentElem) {\r\n    parentElem.removeChild(parentElem.querySelector('.game-records'));\r\n    parentElem = null;\r\n  }\r\n}\r\n\r\nfunction renderScore(recordsWindow) {\r\n  records.render(recordsWindow.querySelector('table'));\r\n}\r\n\r\nconst scoreScreen = {\r\n  render: render,\r\n  remove: remove,\r\n  renderScore: renderScore\r\n}\r\n\r\nexport { scoreScreen };"],"sourceRoot":""}